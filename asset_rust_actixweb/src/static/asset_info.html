<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Asset Information</title>
    <style>
        .asset-item {
            margin-bottom: 10px;
        }
        .additional-info {
            display: none;
            color: green;
        }
        .asset-item:hover .additional-info {
            display: block;
        }
    </style>
</head>
<body>
    <h2>Asset Information</h2>
    <div id="asset-info"></div>

    <script>
        async function fetchAssetInfo() {
            const response = await fetch('/api/asset_info');
            const assets = await response.json();

            const assetInfoDiv = document.getElementById('asset-info');
            assets.forEach(asset => {
                const assetDiv = document.createElement('div');
                assetDiv.className = 'asset-item';

                // 썸네일 이미지 추가
                if (asset.thumbnail) {
                    const img = document.createElement('img');
                    img.src = '/' + asset.thumbnail; // MongoDB에 저장된 경로를 직접 사용
                    img.alt = 'Thumbnail';
                    assetDiv.appendChild(img);
                }

                // 파일 링크 추가
                if (asset.file) {
                    const fileLink = document.createElement('a');
                    fileLink.href = '/' + asset.file; // MongoDB에 저장된 경로를 직접 사용
                    fileLink.textContent = 'Download File';
                    assetDiv.appendChild(fileLink);
                }

                // 추가 정보 추가
                const additionalInfo = document.createElement('div');
                additionalInfo.className = 'additional-info';
                additionalInfo.textContent = `이름: ${asset.name}, 제작자: ${asset.uploader}, 가격: ${asset.price}, 대분류: ${asset.category}, 소분류: ${asset.subcategory}`;
                assetDiv.appendChild(additionalInfo);

                assetInfoDiv.appendChild(assetDiv);
            });
        }

        window.onload = fetchAssetInfo;
    </script>
</body>
</html>

